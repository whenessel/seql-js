# EID vs EIQ ‚Äî Quick Reference

## üìã –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  EID = Element Identity Descriptor                  ‚îÇ
‚îÇ  Type: Structured JSON / AST                        ‚îÇ
‚îÇ  Role: Source of Truth, Canonical Format            ‚îÇ
‚îÇ  Usage: Internal library operations                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  EIQ = SEQL Selector                       ‚îÇ
‚îÇ  Type: Canonical string                             ‚îÇ
‚îÇ  Role: Transport Format, Human Interface            ‚îÇ
‚îÇ  Usage: Between systems (GA, storage, aggregation)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üîë –ö–ª—é—á–µ–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ

```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
EIQ ‚Üí parse() ‚Üí EID ‚Üí resolve() ‚Üí Element[]

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
EIQ ‚Üí resolve() ‚Üí Element[] // NO AST!
```

**EIQ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é.**

## üìä Flow –¥–∏–∞–≥—Ä–∞–º–º–∞

```
rrweb Recording          Analytics (GA)         Backend              Player Replay
     ‚îÇ                        ‚îÇ                     ‚îÇ                      ‚îÇ
     ‚îÇ Generate EID           ‚îÇ                     ‚îÇ                      ‚îÇ
     ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂ EID  ‚îÇ                     ‚îÇ                      ‚îÇ
     ‚îÇ                        ‚îÇ                     ‚îÇ                      ‚îÇ
     ‚îÇ Serialize              ‚îÇ Stringify           ‚îÇ                      ‚îÇ
     ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂ EIQ  ‚îÇ                      ‚îÇ
     ‚îÇ                        ‚îÇ                     ‚îÇ                      ‚îÇ
     ‚îÇ                        ‚îÇ Send to GA          ‚îÇ Aggregate by EIQ     ‚îÇ
     ‚îÇ                        ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂ EIQ   ‚îÇ
     ‚îÇ                        ‚îÇ                     ‚îÇ                      ‚îÇ
     ‚îÇ                        ‚îÇ                     ‚îÇ              Parse   ‚îÇ
     ‚îÇ                        ‚îÇ                     ‚îÇ              ‚îú‚îÄ‚ñ∂ EID ‚îÇ
     ‚îÇ                        ‚îÇ                     ‚îÇ                      ‚îÇ
     ‚îÇ                        ‚îÇ                     ‚îÇ              Resolve ‚îÇ
     ‚îÇ                        ‚îÇ                     ‚îÇ              ‚îî‚îÄ‚ñ∂ Elements
```

## ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ EIQ

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ              | –û–ø–∏—Å–∞–Ω–∏–µ                     | –ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ               |
| ----------------------- | ---------------------------- | -------------------------- |
| **–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** | –û–¥–∏–Ω EID ‚Üí –≤—Å–µ–≥–¥–∞ –æ–¥–∏–Ω EIQ   | –°—Ç–∞–±–∏–ª—å–Ω–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è       |
| **–ö–∞–Ω–æ–Ω–∏—á–Ω–æ—Å—Ç—å**        | –û–¥–∏–Ω EID ‚Üí —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω EIQ   | –ù–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ |
| **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å**  | `v1:footer > ul`             | –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å     |
| **Stable-sort**         | –ê–ª—Ñ–∞–≤–∏—Ç–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ | –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å        |
| **PII-safe**            | –ù–µ—Ç email, –∏–º–µ–Ω –∏ —Ç.–¥.       | GDPR compliance            |

## ‚ùå –ó–∞–ø—Ä–µ—Ç—ã

```typescript
// ‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å EIQ –∫–∞–∫ CSS
document.querySelectorAll(eiq);

// ‚ùå Resolve –±–µ–∑ parse
resolve(eiq, dom);

// ‚ùå –•—Ä–∞–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ EIQ
node.eiq = '...'; // –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö!

// ‚ùå –ù–µ—Å–∫–æ–ª—å–∫–æ EIQ –¥–ª—è –æ–¥–Ω–æ–≥–æ EID
eiq1 = 'footer>ul'; // ‚Üê –†–∞–∑–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
eiq2 = 'footer > ul'; // ‚Üê –¥–ª—è –æ–¥–Ω–æ–≥–æ EID
```

## üéØ API

```typescript
// Stringify
function stringifySEQL(eid: EID): EIQ;

// Parse
function parseSEQL(eiq: EIQ): EID;

// Resolve (—Ç–æ–ª—å–∫–æ EID!)
function resolve(eid: EID, root: Document): Element[];
```

## üí° –ü—Ä–∏–º–µ—Ä—ã

### rrweb Recording

```typescript
const eid = generateEID(element);
node.eid = eid; // Full
node.eiq = stringifySEQL(eid); // Optional
```

### Analytics

```typescript
const eiq = stringifySEQL(eid);
gtag('event', 'click', { element_identity: eiq });
```

### Backend

```typescript
const grouped = groupBy(events, (e) => e.element_identity);
// grouped[eiq] = { count: 245, sessions: 128 }
```

### Player

```typescript
const eid = parseSEQL(eiq);
const elements = resolve(eid, rrdom);
highlight(elements[0]);
```

## üìñ –§–æ—Ä–º—É–ª–∞

```
EID ‚Äî —ç—Ç–æ —Ç–æ, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–Ω–∏–º–∞–µ—Ç
EIQ ‚Äî —ç—Ç–æ —Ç–æ, —á—Ç–æ —Å–∏—Å—Ç–µ–º—ã –æ–±–º–µ–Ω–∏–≤–∞—é—Ç

EID = Understanding
EIQ = Communication
```

---

–°–º. `EID_VS_EIQ_ARCHITECTURE.md` –¥–ª—è –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.
