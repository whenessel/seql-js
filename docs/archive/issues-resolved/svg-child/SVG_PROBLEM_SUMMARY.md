# SVG Elements Problem - Quick Summary

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞

**SVG –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã (rect, path, line) –Ω–µ —Ä–µ–∑–æ–ª–≤—è—Ç—Å—è** ‚Äî resolver –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ anchor.

## üêõ –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞

**–§–∞–π–ª**: `/src/resolver/css-generator.ts`  
**–°—Ç—Ä–æ–∫–∞**: ~147

```typescript
// –ü–†–û–ë–õ–ï–ú–ê 1: nth-child –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∏–∑ DSL –Ω–∞–ø—Ä—è–º—É—é
for (const node of dsl.path) {
  if (node.nthChild !== undefined) {
    nodeSelector += `:nth-child(${node.nthChild})`; // ‚Üê –û—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –†–ï–ê–õ–¨–ù–û–ú–£ —Ä–æ–¥–∏—Ç–µ–ª—é!
  }
}

// –ü–†–û–ë–õ–ï–ú–ê 2: Child combinator –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
const baseSelector = parts.join(' > '); // ‚Üê –¢—Ä–µ–±—É–µ—Ç –ü–†–Ø–ú–û–ì–û —Ä–æ–¥–∏—Ç–µ–ª—è!
```

## üí• –ü–æ—á–µ–º—É –ª–æ–º–∞–µ—Ç—Å—è

**DSL path**: `div.container ‚Üí ul ‚Üí li ‚Üí svg`  
**–†–µ–∞–ª—å–Ω—ã–π DOM**: `div.container ‚Üí div ‚Üí div ‚Üí ul ‚Üí li ‚Üí svg`

```
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è:
div.container:nth-child(1) > ul:nth-child(2)
                             ‚Üë
                         ul –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ü–†–Ø–ú–´–ú —Ä–µ–±–µ–Ω–∫–æ–º div.container
                         –ò 2-–º —Ä–µ–±–µ–Ω–∫–æ–º div.container
                         ‚ùå –ù–û ul –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ 3 —É—Ä–æ–≤–Ω—è –Ω–∏–∂–µ!
```

**nth-child(2)** –≤ DSL –æ–∑–Ω–∞—á–∞–µ—Ç "ul —è–≤–ª—è–µ—Ç—Å—è 2-–º —Ä–µ–±–µ–Ω–∫–æ–º —Å–≤–æ–µ–≥–æ –†–ï–ê–õ–¨–ù–û–ì–û —Ä–æ–¥–∏—Ç–µ–ª—è (–ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ div)"  
**–ù–ï** –æ–∑–Ω–∞—á–∞–µ—Ç "ul —è–≤–ª—è–µ—Ç—Å—è 2-–º —Ä–µ–±–µ–Ω–∫–æ–º div.container"

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: Descendant combinator (–ë–´–°–¢–†–û–ï)

```typescript
// –ë–´–õ–û:
const baseSelector = parts.join(' > ');

// –î–û–õ–ñ–ù–û –ë–´–¢–¨:
const baseSelector = parts.join(' ');
```

‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏  
‚úÖ nth-child –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å  
‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ SVG (–†–ï–ö–û–ú–ï–ù–î–£–ï–ú–û–ï)

```typescript
const isSvgChild = ['rect', 'path', 'circle', 'line'].includes(dsl.target.tag);

if (isSvgChild) {
  // –î–æ svg: descendant (–ø—Ä–æ–±–µ–ª)
  // –ü–æ—Å–ª–µ svg: child (>)
  baseSelector = beforeSvg.join(' ') + ' > ' + afterSvg.join(' > ');
}
```

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞

```javascript
// ‚ùå –ù–ï –†–ê–ë–û–¢–ê–ï–¢ (0 —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
'footer > div.container:nth-child(1) > ul:nth-child(2) > svg > rect'

// ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ (1 —ç–ª–µ–º–µ–Ω—Ç)
'footer div.container ul svg > rect'

// ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ (1 —ç–ª–µ–º–µ–Ω—Ç) 
'footer div.container ul li > svg > rect'
```

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç

**–ö–†–ò–¢–ò–ß–ù–û** ‚Äî –ë–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å–æ –≤—Å–µ–º–∏ SVG —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

---

–°–º. `SVG_ELEMENTS_PROBLEM_ANALYSIS.md` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.
